#!/bin/sh

SHARED_JS=views/shared/javascripts/dist/*.js
SHARED_CSS=views/shared/css/dist/*.css
ADMIN_JS=views/admin/javascripts/dist/*.js
ADMIN_CSS=views/admin/css/dist/*.css

STATIC=$(git ls-files $SHARED_JS $SHARED_CSS $ADMIN_JS $ADMIN_CSS)

# Build Neatline.
npm install
composer install
grunt build

# By default, ignore compiled payloads.
git update-index --assume-unchanged $STATIC
